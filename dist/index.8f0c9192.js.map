{"mappings":"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","sources":["src/js/app.js"],"sourcesContent":["const gameBoard = document.querySelector(\"#gameboard\");\nconst playerDisplay = document.querySelector(\"#player\");\nconst infoDisplay = document.querySelector(\"#info-display\");\n\nconst width = 8;\n\nlet playerGo = 'black';\nplayerDisplay.textContent = 'black';\n\nconst startPieces = [\n    rook, knight, bishop, queen, king, bishop, knight, rook,\n    pawn, pawn, pawn, pawn, pawn, pawn, pawn, pawn,\n    '', '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '', '',\n    pawn, pawn, pawn, pawn, pawn, pawn, pawn, pawn,\n    rook, knight, bishop, queen, king, bishop, knight, rook\n\n]\n\nfunction createBoard() {\n    startPieces.forEach((startPiece, i) => {\n        const square = document.createElement('div');\n        square.classList.add('square');\n        square.innerHTML = startPiece;\n        square.firstChild && square.firstChild.setAttribute('draggable', true);\n        square.setAttribute('square-id', i);\n       // square.classList.add('beige')\n       const row = Math.floor(i / width);\n       const col = i % width;\n       square.classList.add((row + col) % 2 === 0 ? \"beige\" : \"brown\");\n\n        if(i <= 15){\n            square.firstChild.classList.add('black')\n            \n        }\n        if(i >= 48){\n            square.firstChild.classList.add('white');\n        }\n        gameBoard.append(square)\n    });\n}\n\ncreateBoard()\n\nlet startPositionId;\nlet draggedElement;\n\nconst allSquares = document.querySelectorAll(\".square\");\nallSquares.forEach(square => {\n    square.addEventListener('dragstart', dragStart);\n    square.addEventListener('dragover', dragOver);\n    square.addEventListener('drop', dragDrop);\n\n});\n\nfunction dragStart(e){\n    startPositionId = e.target.parentNode.getAttribute('square-id');\n    draggedElement = e.target;\n}\n\nfunction dragOver (e) {\n    e.preventDefault();\n}\n\nfunction dragDrop(e){\n    e.stopPropagation();\n    const correctGo = draggedElement.classList.contains(playerGo);\n    const taken = e.target.classList.contains('piece');\n    const valid = checkIfValid(e.target);\n    const opponentGo = playerGo === 'black' ? 'white' : 'black';\n    const takenByOpponent = e.target?.classList.contains(opponentGo);\n\n    if(correctGo){\n        // console.log(takenByOpponent);\n        // console.log(valid);\n        // console.log('target' , e.target);\n        // console.log(e.target?.classList.contains(opponentGo));\n        // console.log(e.target.firstChild?.classList);\n        // console.log(takenByOpponent);\n        if(takenByOpponent && valid){\n            //console.log('works');\n            e.target.append(draggedElement);\n            e.target.firstChild.remove();\n            //console.log(e.target);\n            checkForWin();\n            changePlayer();\n            return;\n        }\n        if(taken && !takenByOpponent){\n            infoDisplay.textContent = \"You cannot go here!\";\n            setTimeout(() => infoDisplay.textContent = \"\", 2000 )\n            return\n        }\n        if(valid){\n            e.target.append(draggedElement);\n            checkForWin();\n            changePlayer();\n            return;\n\n        }\n    }\n\n    \n}\n\n   \nfunction checkIfValid(target){\n    console.log(target);\n    const targetId = Number(target.getAttribute('square-id'))\n                    || Number(target.parentNode.getAttribute('square-id'));\n\n    const starterId = Number(startPositionId);\n    const piece = draggedElement.id;\n    // console.log('targertid',targetId);\n    // console.log('startid', starterId);\n    // console.log('piece', piece);\n\n    switch(piece){\n        case 'pawn' :\n            const starterRow = [8, 9, 10, 11, 12, 13, 14, 15];\n            if(starterRow.includes(starterId) && starterId + width * 2 === targetId ||\n                starterId + width === targetId ||\n                starterId + width - 1 === targetId && document.querySelector(`[square-id=\"${starterId + width - 1}\"]`).firstChild ||\n                starterId + width + 1 === targetId && document.querySelector(`[square-id=\"${starterId + width + 1}\"]`).firstChild\n                ){\n                return true;\n            }\n            break;\n        case 'knight' :\n            if(\n                starterId + width * 2 + 1 === targetId ||\n                starterId + width * 2 - 1 === targetId ||\n                starterId + width - 2 === targetId ||\n                starterId + width + 2 === targetId ||\n                starterId - width * 2 + 1 === targetId ||\n                starterId - width * 2 - 1 === targetId ||\n                starterId - width - 2 === targetId ||\n                starterId - width + 2 === targetId \n\n            ){\n                return true;\n            }\n            break;\n        \n            \n                case 'king' :\n                    if(\n                        starterId + 1 === targetId ||\n                        starterId - 1 === targetId ||\n                        starterId + width === targetId ||\n                        starterId - width === targetId ||\n                        starterId - width -1  === targetId ||\n                        starterId - width + 1 === targetId ||\n                        starterId + width - 1 === targetId ||\n                        starterId + width + 1 === targetId \n                    ) {\n                        return true;\n                    }\n                \n    }\n    \n}\n\n\n\n\nfunction changePlayer() {\n\n    if(playerGo === \"black\"){\n        reverseId();\n        playerGo = \"white\";\n        playerDisplay.textContent = 'white';\n    }else {\n        revertIds();\n        playerGo = \"black\";\n        playerDisplay.textContent = 'black';\n    }\n    \n   \n}\n\nfunction reverseId() {\n    const allSquares = document.querySelectorAll(\".square\");\n    allSquares.forEach((square, i) => square.setAttribute('square-id', (width * width - 1) - i)\n)}\n\nfunction revertIds() {\n    const allSquares = document.querySelectorAll(\".square\");\n    allSquares.forEach((square, i) => square.setAttribute('square-id', i));\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":[],"version":3,"file":"index.8f0c9192.js.map","sourceRoot":"/__parcel_source_root/"}